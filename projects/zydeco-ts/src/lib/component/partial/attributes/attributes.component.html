<div class="container pb-5" *ngIf="editType == 'create' || model !== undefined">
    <zydeco-attributes-header [editType]="editType"></zydeco-attributes-header>
    <ng-container *ngFor="let attribute of getFlatAttributes()">
        <zydeco-attribute-row
            [attributeDefinition]="attribute"
            [currentValue]="model != null ? model.get(attribute.modelSelector) : null"
            [editType]="editType"
            [delta]="delta"
            (valueChanged)="onChange($event)"
        ></zydeco-attribute-row>
    </ng-container>  

    <ng-container *ngFor="let attribute of getNestedAttributes()">
        <zydeco-nested-attribute
            [attributeDefinition]="attribute"
            [editType]="editType"
            [models]="model.get(attribute.modelSelector)"
            [deltas]="delta.get(attribute.deltaSelector)">
        </zydeco-nested-attribute>
    </ng-container>
</div>